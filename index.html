<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>re : cover</title>
  <meta name="description" content="Find your missing items.">
  <meta property="og:image" content="poster.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
  <link rel="manifest" href="./site.webmanifest">
  <link href="styles.css" rel = "stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.plot.ly/plotly-2.14.0.min.js"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'regal-blue': '#243c5a',
            /*
            nord0->nord3, dark colors,"polar night"
            nord4->nord6, light colors, "snow storm"
            nord7 = pale green
            nord8 = blue
            nord9 = blue
            nord10 = blue
            nord11 = red
            nord12 = orange
            nord13 = yellow
            nord14 = green
            nord15 = purple
            */
            'nord0': '#2e3440',
            'nord1': '#3b4252',
            'nord2': '#434c5e',
            'nord3': '#4c566a',
            'nord4': '#d8dee9',
            'nord5': '#e5e9f0',
            'nord6': '#eceff4',
            'nord7': '#8fbcbb',
            'nord8': '#88c0d0',
            'nord9': '#81a1c1',
            'nord10': '#5e81ac',
            'nord11': '#bf616a',
            'nord12': '#d08770',
            'nord13': '#ebcb8b',
            'nord14': '#a3be8c',
            'nord15': '#b48ead'
          },
          fontFamily: {
            // sans: ['Inter var', ...defaultTheme.fontFamily.sans],
          }
        }
      }
    }

  </script>
  <style>
    /* Special styling for WebKit/Blink */
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      height: 36px;
      width: 36px;
      background: #88c0d0;
    }

    /* All the same stuff for Firefox */
    input[type=range]::-moz-range-thumb {
      background: #88c0d0;
      width: 100%;
      height: 36px;
      width: 36px;
      cursor: pointer;
      /* Hides the slider so custom styles can be added */
      background: transparent;
      border-color: transparent;
      color: transparent;
    }

    /* All the same stuff for IE */
    input[type=range]::-ms-thumb {
      background: #88c0d0;
      height: 36px;
      width: 36px;
      cursor: pointer;
    }
  </style>
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
</head>

<body class="h-screen flex flex-col bg-nord3">
  <!-- This example requires Tailwind CSS v2.0+ -->
  <nav class="bg-nord3 border-gray-200 px-5 sm:px-4 py-2.5 rounded">
    <div class="container flex flex-wrap justify-between items-center mx-auto">
      <a href="index_old.html" class="flex items-center">
          <img src="logo.svg" width="124" height="96" alt="Flowbite Logo" />
      </a>
      <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-nord6 rounded-lg md:hidden hover:bg-nord2 focus:outline-none focus:ring-2 focus:ring-nord3 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
      <div class="hidden w-full md:block md:w-auto" id="navbar-default">
        <ul class="flex flex-col p-4 mt-4 bg-nord3 rounded-lg border border-nord3 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-nord3 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
          <li>
            <a href="index_old.html" class="block py-2 pr-4 pl-3 text-nord6 rounded bg-gradient-to-r hover:from-nord8 hover:to-nord9 md:hover:bg-transparent md:text-white md:hover:text-transparent md:hover:bg-clip-text md:hover:bg-gradient-to-r md:hover:from-nord9 md:hover:to-nord8 md:border-0 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">home</a>
          </li>
          <li>
            <a href="index.html" class="block py-2 pr-4 pl-3 text-nord6 bg-gradient-to-r from-nord8 to-nord9 hover:from-nord9 hover:to-nord8 rounded md:bg-transparent md:text-transparent md:bg-clip-text md:bg-gradient-to-r md:from-nord8 md:to-nord9 md:hover:from-nord9 md:hover:to-nord8 md:p-0 dark:text-white" aria-current="page">add your missing object</a>
          </li>
          <li>
            <a href="find.html" class="block py-2 pr-4 pl-3 text-nord6 rounded bg-gradient-to-r hover:from-nord8 hover:to-nord9 md:hover:bg-transparent md:text-white md:hover:text-transparent md:hover:bg-clip-text md:hover:bg-gradient-to-r md:hover:from-nord9 md:hover:to-nord8 md:border-0 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">look for your missing object</a>
          </li>
        </ul>
      </div>
    </div>
    <hr class="mt-2 invisible sm:visible dark space-y-1 border-1 border-nord3">
  </nav>
  <div class="dark h-4/5 flex flex-col justify-center items-center border-3" method="GET">
    <form action="Sentis.html" class="dark sm:w-4/5 h-4/5 px-5 sm:px-20 sm:py-10 flex flex-col justify-center space-y-8" method="GET" id="addSenti">
      <div class="dark md:space-x-2 flex flex-col md:flex-row justify-center">
        <h1 class="dark text-nord4 text-6xl font-light">i m &nbsp&nbsp m i s s i n g &nbsp&nbsp m y . . .</h1>
      </div>

      <div class="flex flex-col justify-between space-y-3">
        <textarea id="message" rows="4" style="resize: none;"
          class="text-xl block p-2.5 w-full text-gray-900 bg-gray-50 rounded-lg border border-nord2 focus:ring-nord2 focus:border-nord2 dark:bg-nord1 dark:border-nord0 dark:placeholder-gray-400 dark:text-nord8"
          placeholder="describe what you lost and upload a picture below"></textarea>
        <div class="flex flex-row justify-between items-center">
          <div class="flex flex-row justify-left around font-light space-x-1 text-gray-500 dark:text-gray-400">
            <p1 id="characters" class="text-sm font-bold">0</p1>
            <p1 id="characterLabel" class="text-sm"> characters</p1>
          </div>
        <form action="/action_page.php">
            <label for="img" class="text-nord4 text-l text-medium">Select image:</label>
            <input type="file" id="img" name="img" accept="image/*" class="text-nord4 text-l text-medium">
        </form>
<div data-popover id="popover-description" role="tooltip" class="inline-block absolute invisible z-10 w-72 text-sm font-light text-gray-500 bg-white rounded-lg border border-gray-200 shadow-sm opacity-0 transition-opacity duration-300 dark:bg-nord1 dark:border-gray-600 dark:text-gray-400">
    <div class="p-3 space-y-2">
        <h3 class="font-semibold text-gray-900 dark:text-nord6">Anonymous heatmap</h3>
    </div>
    <div data-popper-arrow></div>
</div>
            <button type="submit"
              class="text-nord6 bg-gradient-to-r from-nord0 to-nord1 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-nord8 dark:focus:ring-nord9 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Submit</button>
          </div>
        </div>
      </div>
    </form>
  </div>
  </div>
  <hr class="space-y-1 border-1 border-nord3">
  <footer class="flex flex-1 flex-col justify-center items-center text-center">
  </footer>
  <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
  <script>
    var range = document.getElementById("valueControl");
    var type = document.getElementById("typeText");
    var message = document.getElementById("message");
    var characters = document.getElementById("characters");
    var characterLabel = document.getElementById("characterLabel");

    message.addEventListener("input", changeCharacterCount);

    function changeCharacterCount() {
      characters.innerText = message.value.length;
      if (message.value.length == 1) {
        characterLabel.innerText = "character";
      } else {
        characterLabel.innerText = "characters";
      }
    }
  </script>
<script type = 'module'>
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
  import { getDatabase, push, set, child, ref} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";
 
  const firebaseConfig = {
    apiKey: "AIzaSyC5l0TlopKu4QLEBBtTI7rhvUnWnCLo8zk",
    authDomain: "recycle-fd6d1.firebaseapp.com",
    databaseURL: "https://recycle-fd6d1-default-rtdb.firebaseio.com",
    projectId: "recycle-fd6d1",
    storageBucket: "recycle-fd6d1.appspot.com",
    messagingSenderId: "1066924448326",
    appId: "1:1066924448326:web:9e30837fd3c567670ec847",
    measurementId: "G-SF870FXJ04"
};

 
const app = initializeApp(firebaseConfig);

var postDatabase = getDatabase(app);

document.getElementById('addSenti').addEventListener('submit', submit);

function submit(e)
{
    e.preventDefault();

    
    if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(saveLocation);
    }
}

function saveLocation(position) {
  var date = new Date();
  var text = document.getElementById("message").value;
  var location = [position.coords.latitude, position.coords.longitude];
  var time  = date.toLocaleDateString() + ", " + date.toLocaleTimeString();
  console.log('working');
  saveMessages(location, text, time);
}

const saveMessages = (location, text, time) => 
{
    var newPost = push(child(ref(postDatabase), 'Posts'));

    set(newPost,{
        location: location,
        text:text,
        time: time,
    }).then(function(){
      window.location = "recover.html?" + "value=" + value;
    });

};

const getElementVal = (id) => {
    return document.getElementById(id).value;
};

// set the tooltip content element
const targetEl = document.getElementById('tooltipContent');

// set the element that trigger the tooltip using hover or click
const triggerEl = document.getElementById('tooltipButton');

// options with default values
const options = {
  placement: 'bottom',
  triggerType: 'hover',
  onHide: () => {
      console.log('tooltip is shown');
  },
  onShow: () => {
      console.log('tooltip is hidden');
  }
};
</script>
</body>

</html>